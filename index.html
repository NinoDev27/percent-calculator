<!doctype html>
<html lang="en">
<head>
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="icon" href="/percent-calculator/icons/android-launchericon-192-192.png">
  <meta name="theme-color" content="#0b0f14">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <title>% Range Calculator</title>

  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div>% Range Calculator</div>
      <div class="status" id="status">0DTE-ready</div>
    </div>

    <div class="card">
      <div class="section">
        <div class="grid">
          <div class="field">
            <label>Price</label>
            <input id="base" class="input" inputmode="decimal" value="1000" />
          </div>

          <div id="chgWrap" class="chgWrap" aria-live="polite">
            <div id="chgBadge" class="chgBadge is-hidden">
              <span id="chgTf" class="chgTf">1W</span>
              <span id="chgArrow" class="chgArrow">â–²</span>
              <span id="chgVal" class="chgVal">+0.00%</span>
            </div>
          </div>

          <div class="field">
            <label>Step (%)</label>
            <input id="step" class="input" inputmode="decimal" value="0.5" />
          </div>

          <div class="field">
            <label>Max (%)</label>
            <input id="max" class="input" inputmode="decimal" value="5" />
          </div>
        </div>

        <div class="grid2">
          <div class="field">
            <label>Decimals</label>
            <input id="decimals" class="input" inputmode="numeric" value="2" />
          </div>
        </div>
      </div>

        <div class="field">
          <label>ATM Straddle (pts)</label>
          <input id="emPts" class="input" inputmode="decimal" placeholder="e.g. 12.5" />
        </div>

      <div class="btnRow">
        <button class="chip primary" id="btnSPY" type="button">SPY</button>
        <button class="chip" id="btnQQQ" type="button">QQQ</button>
        <button class="chip" id="btnIWM" type="button">IWM</button>

        <button class="primary" id="calc" type="button">Calculate</button>
        <button id="btnW1" type="button">W-1: OFF</button>
        <button id="auto" type="button">Auto: ON</button>
        <button id="focus" type="button">Focus: ON</button>
        <button id="clear" type="button">Clear</button>
      </div>

      <div id="err" class="error"></div>

      <div class="split">
        <div class="tablePanel">
          <table id="tbl">
            <thead>
              <tr>
                <th class="colP">%</th>
                <th class="colMinus">-</th>
                <th class="colPlus">+</th>
              </tr>
            </thead>
            <tbody id="tbody"></tbody>
          </table>
        </div>
        <div class="weekPanel">
          <div class="weekHeader">
            <div class="weekTitle">(52w)</div>
            <div class="weekSub" id="weekSub">Select an ETF</div>
          </div>
          <div class="weekList" id="weekList"></div>
        </div>
      </div>
      <div class="hint">Tap a row to lock highlight. Use SPY/QQQ/IWM buttons to auto-fill base.</div>
  </div>

  <script src="./app.js" defer></script>
</body>
</html>
