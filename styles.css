/* styles.css â€” COMPLETE (clean, no duplicates, compact inputs, keeps your current look) */

:root{
  --bg:#0b0f14;
  --panel:#121826;
  --panel-2:#0f1522;

  --border:rgba(255,255,255,.08);
  --border-2:rgba(255,255,255,.06);

  --text:rgba(255,255,255,.92);
  --muted:rgba(255,255,255,.60);
  --muted2:rgba(255,255,255,.45);

  --blue:#2d7dff;
  --green:#78c499;
  --red:#c27467;

  --rowA:rgba(255,255,255,.015);
  --rowB:rgba(255,255,255,.035);
  --rowHover:rgba(255,255,255,.06);

  /* selection highlight */
  --rowActive:rgba(45,125,255,.14);
  --rowActiveBorder:rgba(45,125,255,.35);

  /* expected move highlight stripe */
  --emStripe:#2dff49;
}

*{ box-sizing:border-box; }

body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:var(--bg);
  color:var(--text);
}

.wrap{ max-width:760px; margin:18px auto; padding:0 14px 22px; }

.topbar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:10px 2px 14px;
  color:var(--muted);
  letter-spacing:.08em;
  text-transform:uppercase;
  font-weight:700;
  font-size:12px;
}

.status{
  color:rgba(255,255,255,.45);
  font-weight:650;
  letter-spacing:.04em;
  text-transform:none;
}

.card{
  background:linear-gradient(180deg,var(--panel) 0%,var(--panel-2) 100%);
  border:1px solid var(--border);
  border-radius:14px;
  overflow:hidden;
}

.section{
  padding:14px;
  border-bottom:1px solid var(--border-2);
}

/* ===== Inputs layout (compact, no huge bars) ===== */
.section .grid{
  display:grid;
  grid-template-columns: 1fr 1fr; /* left / right */
  gap:20px;
  align-items:end;
}

.gridLeft{
  display:grid;
  grid-template-columns: 1.4fr 0.8fr; /* Price + Max */
  gap:18px;
  align-items:end;
}

.gridRight{
  display:grid;
  grid-template-columns: auto 0.9fr; /* Badge + Step */
  gap:18px;
  align-items:end;
}

.grid2{
  display:grid;
  grid-template-columns: 0.6fr 1.4fr; /* Decimals + Straddle */
  gap:18px;
  margin-top:18px;
  align-items:end;
}

/* width utilities (optional; keeps control if you reuse them elsewhere) */
.field.w-xs{ max-width:120px; }
.field.w-sm{ max-width:160px; }
.field.w-md{ max-width:260px; }
.field.w-lg{ max-width:420px; }
.field.w-full{ max-width:none; }

.field label{
  font-size:11px;
  color:var(--muted2);
  letter-spacing:.06em;
  text-transform:uppercase;
  display:block;
  margin:2px 2px 6px;
}

.input{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.03);
  color:var(--text);
  font-size:16px;
  outline:none;
}

.input:focus{
  border-color:rgba(45,125,255,.55);
  box-shadow:0 0 0 3px rgba(45,125,255,.14);
}

/* ===== Buttons ===== */
.btnRow{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  padding:14px;
  border-bottom:1px solid var(--border-2);
}

button{
  border:1px solid var(--border);
  background:rgba(255,255,255,.04);
  color:var(--text);
  padding:10px 12px;
  border-radius:12px;
  font-size:14px;
  font-weight:650;
  cursor:pointer;
  user-select:none;
}
button:active{ transform:translateY(1px); }
button:disabled{ opacity:.55; cursor:default; }

.primary{
  background:rgba(45,125,255,.16);
  border-color:rgba(45,125,255,.35);
}

.chip{
  padding:10px 12px;
  border-radius:999px;
  background:rgba(255,255,255,.04);
}
.chip.primary{
  background:rgba(45,125,255,.14);
  border-color:rgba(45,125,255,.28);
}

/* ===== Error ===== */
.error{
  display:none;
  padding:12px 14px;
  color:var(--red);
  border-bottom:1px solid var(--border-2);
  font-size:13px;
}

/* ===== Webull-style change badge ===== */
.chgWrap{
  display:flex;
  align-items:center;
  justify-content:center;
  min-height:44px;
}

.chgBadge{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 12px;
  border-radius:999px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.03);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.03);
  font-variant-numeric: tabular-nums;
  line-height:1;
}

.chgBadge.is-hidden{ display:none; }

.chgTf{
  font-size:11px;
  letter-spacing:.08em;
  text-transform:uppercase;
  color:var(--muted2);
  padding:3px 8px;
  border-radius:999px;
  background:rgba(255,255,255,.04);
  border:1px solid rgba(255,255,255,.06);
}

.chgArrow{ font-size:12px; opacity:.95; }

.chgVal{
  font-size:14px;
  font-weight:750;
  letter-spacing:.01em;
}

.chgBadge.is-pos{
  border-color: rgba(120,196,153,.35);
  background: rgba(120,196,153,.10);
}
.chgBadge.is-pos .chgArrow,
.chgBadge.is-pos .chgVal{ color: var(--green); }

.chgBadge.is-neg{
  border-color: rgba(194,116,103,.35);
  background: rgba(194,116,103,.10);
}
.chgBadge.is-neg .chgArrow,
.chgBadge.is-neg .chgVal{ color: var(--red); }

/* ===== Split layout: range table (left) + week panel (right) ===== */
.split{
  display:grid;
  grid-template-columns: 1fr 360px;
  gap:14px;
  padding:14px;
}

.tablePanel{
  border:1px solid transparent;
}

/* ===== Range table ===== */
table{
  width:100%;
  border-collapse:collapse;
  font-variant-numeric:tabular-nums;
}

thead th{
  position:sticky;
  top:0;
  z-index:2;
  background:rgba(18,24,38,.96);
  border-bottom:1px solid var(--border-2);
  color:var(--muted);
  font-size:11px;
  letter-spacing:.08em;
  text-transform:uppercase;
  padding:13px 18px;
  text-align:center;
}

th.colP, td.colP{ width:26%; text-align:center; }
th.colMinus, td.colMinus{ width:37%; text-align:center; }
th.colPlus, td.colPlus{ width:37%; text-align:center; }

tbody tr{
  cursor:pointer;
  transition:background .12s ease, opacity .12s ease;
}

tbody tr:nth-child(odd){ background:var(--rowA); }
tbody tr:nth-child(even){ background:var(--rowB); }
tbody tr:hover{ background:var(--rowHover); }

tbody tr.is-active{
  background:var(--rowActive)!important;
  box-shadow: inset 3px 0 0 0 var(--rowActiveBorder);
}

tbody.has-active tr:not(.is-active){ opacity:.55; }

tbody td{
  padding:13px 18px;
  border-bottom:1px solid var(--border-2);
  font-size:16px;
  white-space:nowrap;
}

.pct{ font-weight:650; }
.neg{ color:var(--red); font-weight:650; }
.pos{ color:var(--green); font-weight:650; }

/* Expected move highlight: subtle stripe (different from selection) */
tbody tr.is-em{
  background: none !important;
  outline:none;
}
tbody tr.is-em td.colP{
  position:relative;
}
tbody tr.is-em td.colP::before{
  content:"";
  position:absolute;
  left:-10px;     /* aligns with cell padding */
  top:7px;
  bottom:7px;
  width:3px;
  border-radius:2px;
  background:var(--emStripe);
}

/* ===== Week panel ===== */
.weekPanel{
  border:1px solid var(--border-2);
  border-radius:14px;
  background:rgba(255,255,255,.02);
  overflow:hidden;
  min-width:0;
}

.weekHeader{
  padding:12px 12px 10px;
  border-bottom:1px solid var(--border-2);
  display:flex;
  justify-content:space-between;
  align-items:baseline;
  gap:10px;
}

.weekTitle{
  font-size:11px;
  letter-spacing:.08em;
  text-transform:uppercase;
  color:var(--muted);
  font-weight:800;
}

.weekSub{
  font-size:11px;
  color:var(--muted2);
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.weekList{
  max-height:520px;
  overflow:auto;
}

.weekItem{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:10px;
  padding:11px 12px;
  border-bottom:1px solid var(--border-2);
  cursor:pointer;
  transition:background .12s ease;
  font-variant-numeric: tabular-nums;
}

.weekItem:hover{ background: var(--rowHover); }

.weekItem.is-active{
  background:var(--rowActive);
  box-shadow: inset 3px 0 0 0 var(--rowActiveBorder);
}

.weekLeft{
  display:flex;
  flex-direction:column;
  gap:4px;
  min-width:0;
}

.weekDate{
  font-size:12px;
  color:var(--text);
  font-weight:700;
}

.weekClose{
  font-size:11px;
  color:var(--muted2);
}

.weekCloseVal.pos{ color: var(--green); font-weight:750; }
.weekCloseVal.neg{ color: var(--red); font-weight:750; }

.weekPct{
  font-size:13px;
  font-weight:800;
  white-space:nowrap;
}

.weekPct.pos{ color: var(--green); }
.weekPct.neg{ color: var(--red); }

/* ===== Hint ===== */
.hint{
  padding:12px 14px;
  font-size:12px;
  color:var(--muted2);
}

/* ===== Responsive ===== */
@media (max-width:720px){
  .split{
    grid-template-columns: 1fr;
  }
  .weekList{ max-height:260px; }
}

@media (max-width:520px){
  .section .grid{ grid-template-columns: 1fr; }
  .gridLeft, .gridRight, .grid2{ grid-template-columns: 1fr; }
  .chgWrap{ justify-content:flex-start; }
  thead th{ padding:11px 12px; }
  tbody td{ padding:12px 12px; font-size:15px; }
  tbody tr.is-em td.colP::before{ left:-6px; }
}

.field .input{
  background:rgba(255,255,255,.035);
}

.section{
  padding:18px;
}

/* ===== Credit Spread panel inside weekPanel ===== */

.csSection{
  margin:0 14px 18px;
  padding:16px;
  max-width:1100px;
  margin-left:auto;
  margin-right:auto;
}

.csPanel{
  border-top:1px solid var(--border-2);
  padding:12px;
  background:rgba(255,255,255,.01);
}

.csHeader{
  display:flex;
  justify-content:space-between;
  align-items:baseline;
  gap:10px;
  margin-bottom:10px;
}
.csTitle{
  font-size:11px;
  letter-spacing:.08em;
  text-transform:uppercase;
  color:var(--muted);
  font-weight:900;
}
.csSub{
  font-size:11px;
  color:var(--muted2);
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

/* Inputs: 2 columns, contracts spans */
.csGrid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:10px 10px;
  align-items:end;
  margin-bottom:10px;
}
.csGrid .field:nth-child(3){ grid-column:1 / -1; }

/* Contracts row: compact pill group */
.csQty{
  display:flex;
  gap:8px;
  align-items:center;
}
.csQty button{
  min-width:54px;
  padding:10px 10px;
  border-radius:12px;
}
.csQty .input{
  width:92px;
  text-align:center;
  padding:10px 10px;
}

/* KPI row: tighter + aligned */
.csOut{
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap:10px;
  margin-bottom:10px;
}
.csBox{
  border:1px solid var(--border-2);
  border-radius:14px;
  background:rgba(255,255,255,.02);
  padding:9px 10px;
}
.csLbl{
  font-size:10px;
  letter-spacing:.08em;
  text-transform:uppercase;
  color:var(--muted2);
  margin-bottom:6px;
}
.csVal{
  font-size:14px;
  font-weight:850;
  font-variant-numeric: tabular-nums;
}

/* Table: denser */
.csTblWrap{
  border:1px solid var(--border-2);
  border-radius:14px;
  overflow:hidden;
}
.csTbl{
  width:100%;
  border-collapse:collapse;
  font-variant-numeric: tabular-nums;
}
.csTbl th{
  background:rgba(18,24,38,.65);
  border-bottom:1px solid var(--border-2);
  color:var(--muted);
  font-size:10px;
  letter-spacing:.08em;
  text-transform:uppercase;
  padding:9px 8px;
  text-align:center;
}
.csTbl td{
  border-bottom:1px solid var(--border-2);
  padding:9px 8px;
  text-align:center;
  white-space:nowrap;
  font-size:13px;
}
.csTbl tr:last-child td{ border-bottom:none; }

.csTbl tr.is-active{
  background:rgba(0,140,255,.08);
  border-left:3px solid #2b8cff;
}

/* Mobile */
@media (max-width:720px){
  .csOut{ grid-template-columns: 1fr; }
  .csQty .input{ width:110px; }
}
.csVal{
  font-variant-numeric: tabular-nums;
}
#csProfit{ color:#59d39b; }
#csRisk{ color:#ff7c7c; }

.cards4{
  display:grid;
  grid-template-columns: 1.2fr 1fr 1fr 1fr;
  gap:14px;
}

.miniInput{
  width:100%;
  margin-top:8px;
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.08);
  color: #fff;
  padding: 10px 12px;
  border-radius: 12px;
  outline: none;
  font-size: 18px;
}

.miniHint{
  margin-top:6px;
  font-size: 12px;
  opacity: .7;
}

.good { color: #7CFFB2; }   /* or reuse your existing green */
.bad  { color: #FF6B6B; }   /* or reuse your existing red */
.neutral { opacity: .9; }
